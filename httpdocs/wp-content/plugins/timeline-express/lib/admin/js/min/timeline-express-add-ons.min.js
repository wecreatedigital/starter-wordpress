var cnkt_installer=cnkt_installer||{};jQuery(document).ready(function(e){"use strict";var s=!1;cnkt_installer.install_plugin=function(n,a){confirm(te_installer_localize.install_now)&&(s=!0,n.addClass("installing"),e.ajax({type:"POST",url:te_installer_localize.ajax_url,data:{action:"timeline_express_add_on_installer",plugin:a,nonce:te_installer_localize.admin_nonce,dataType:"json"},success:function(a){a&&"success"===a.status?(n.attr("class","activate button button-primary"),n.html(te_installer_localize.activate_btn)):n.removeClass("installing"),s=!1},error:function(a,t,l){console.log(t),n.removeClass("installing"),s=!1}}))},cnkt_installer.activate_plugin=function(t,a){e.ajax({type:"POST",url:te_installer_localize.ajax_url,data:{action:"timeline_express_add_on_activation",plugin:a,premium:t.hasClass("premium"),nonce:te_installer_localize.admin_nonce,dataType:"json"},success:function(a){a&&"success"===a.status&&(t.attr("class","installed button disabled"),t.html(te_installer_localize.installed_btn)),s=!1},error:function(a,t,l){console.log(t),s=!1}})},e(document).on("click",".plugin-card a.button",function(a){var t=e(this),l=t.data("slug");if(!t.hasClass("disabled")){if(s)return!1;if(t.hasClass("premium"))return;a.preventDefault(),t.hasClass("install")&&cnkt_installer.install_plugin(t,l),t.hasClass("activate")&&cnkt_installer.activate_plugin(t,l)}})});