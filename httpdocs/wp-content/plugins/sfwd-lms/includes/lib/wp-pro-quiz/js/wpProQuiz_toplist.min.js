function wpProQuiz_fetchToplist() { var t = this; t.toplist = { handleRequest: function (t) { jQuery(".wpProQuiz_toplist").each(function () { var e = jQuery(this), i = t[e.data("quiz_id")], o = e.find("tbody tr"), n = o.eq(2); if (o.slice(3).remove(), null == i) return o.eq(0).hide().end().eq(1).show(), !0; for (var r = 0, u = i.length; r < u; r++) { var s = n.clone().children(); s.eq(0).text(r + 1), s.eq(1).text(i[r].name), s.eq(2).text(i[r].date), s.eq(3).text(i[r].points), s.eq(4).text(i[r].result + " %"), 1 & r && s.addClass("wpProQuiz_toplistTrOdd"), s.parent().show().appendTo(e.find("tbody")) } o.eq(0).hide(), o.eq(1).hide() }) }, fetchIds: function () { var t = new Array; return jQuery(".wpProQuiz_toplist").each(function () { t.push(jQuery(this).data("quiz_id")) }), t }, init: function () { var e = t.toplist.fetchIds(); 0 != e.length && jQuery.post(WpProQuizGlobal.ajaxurl, { action: "wp_pro_quiz_show_front_toplist", quizIds: e }, function (e) { t.toplist.handleRequest(e) }, "json") } }, t.toplist.init() } jQuery(document).ready(wpProQuiz_fetchToplist);