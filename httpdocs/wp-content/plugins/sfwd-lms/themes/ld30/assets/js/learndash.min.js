function ldGetUrlVars(){var t={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,a,s){t[a]=s});return t}jQuery(document).ready(function(t){function e(){t(window).width()<768?a():s()}function a(){t(".ld-focus").addClass("ld-focus-sidebar-collapsed"),t(".ld-mobile-nav").removeClass("expanded"),u()}function s(){t(".ld-focus").removeClass("ld-focus-sidebar-collapsed"),t(".ld-mobile-nav").addClass("expanded"),u()}function l(e,a){var s=t(a)[0].hasAttribute("data-ld-expand-text")?t(a).attr("data-ld-expand-text"):"Expand",l=t(a)[0].hasAttribute("data-ld-collapse-text")?t(a).attr("data-ld-collapse-text"):"Collapse";"collapse"==e?(t(a).removeClass("ld-expanded"),"false"!==l&&t(a).find(".ld-text").text(s)):(t(a).addClass("ld-expanded"),"false"!==l&&t(a).find(".ld-text").text(l))}function o(e,a){void 0===a&&(a=!1);var s=t(e).hasClass("ld-expanded");if(t(e)[0].hasAttribute("data-ld-expands")){var n=t(e).attr("data-ld-expands"),r=t("#"+n),c=t("#"+n).find(".ld-item-list-item-expanded");c.length&&(r=c);var p=0;if(r.find("> *").each(function(){p+=t(this).outerHeight()}),r.attr("data-height",""+(p+50)),t("#"+n)[0].hasAttribute("data-ld-expand-list")){var f=t("#"+n),h=f.find(".ld-expand-button");s?(l("collapse",e),h.each(function(){o(t(this),!0)})):(l("expand",e),h.each(function(){o(t(this))}))}else t("#"+n).length?s||1==a?d(e,t("#"+n),r):i(e,t("#"+n),r):console.log("LearnDash: No expandable content was found");u()}}function d(t,e,a){e.removeClass("ld-expanded"),l("collapse",t),a.css({"max-height":0})}function i(t,e,a){e.addClass("ld-expanded"),l("expand",t),a.css({"max-height":a.data("height")})}function n(){if(t("#learndash-tooltips").length&&(t("#learndash-tooltips").remove(),y=t("*[data-ld-tooltip]")),y.length){t("body").prepend('<div id="learndash-tooltips"></div>');y.each(function(){var e=t(this);e.hasClass("ld-item-list-item")&&(e=e.find(".ld-item-title"));e.offset().top,e.offset().left,e.outerWidth();var a=t(this).attr("data-ld-tooltip"),s=Math.floor(99999*Math.random()),l='<span id="ld-tooltip-'+s+'" class="ld-tooltip">'+a+"</span>";t(this).attr("data-ld-tooltip-id",s),t("#learndash-tooltips").append(l),0;l=t("#ld-tooltip-"+s);t(this).hover(function(){l.addClass("ld-visible")},function(){l.removeClass("ld-visible")})}),t(window).on("resize",function(){u()}),t(window).add(".ld-focus-sidebar-wrapper").on("scroll",function(){t(".ld-visible.ld-tooltip").removeClass("ld-visible"),u()}),u()}}function r(){var e=t(".learndash-wrapper-login-modal");void 0!==e&&e.length&&(t(e).prependTo("body"),t(e).addClass("ld-modal-open"),t("html, body").animate({scrollTop:t(".ld-modal",e).offset().top},50))}function c(){t(".learndash-wrapper").removeClass("ld-modal-open")}function u(){void 0!==y&&setTimeout(function(){y.each(function(){var e=t(this),a=e.attr("data-ld-tooltip-id");$tooltip=t("#ld-tooltip-"+a),e.hasClass("ld-item-list-item")&&(e=e.find(".ld-status-icon")),console.log("anchor[%o]",e);var s=jQuery(e).parents(".ld-focus-sidebar");console.log("parent_focus[%o]",s);var l=e.offset().left+(e.outerWidth()+10);s.length&&(l=e.offset().left+(e.outerWidth()-18)),$tooltip.css({top:e.offset().top+-3,left:l,"margin-left":0,"margin-right":0}).removeClass("ld-shifted-left ld-shifted-right"),$tooltip.offset().left<=0&&$tooltip.css({"margin-left":Math.abs($tooltip.offset().left)}).addClass("ld-shifted-left");var o=t(window).width()-($tooltip.offset().left+$tooltip.outerWidth());o<=0&&$tooltip.css({"margin-right":Math.abs(o)}).addClass("ld-shifted-right")})},500)}function p(t){t.preventDefault();var e=jQuery(this).data("ref_id"),a=jQuery(this).data("quiz_id"),s=jQuery(this).data("user_id"),l=jQuery(this).data("statistic_nonce"),o={action:"wp_pro_quiz_admin_ajax",func:"statisticLoadUser",data:{quizId:a,userId:s,refId:e,statistic_nonce:l,avg:0}};jQuery("#wpProQuiz_user_overlay, #wpProQuiz_loadUserData").show();var d=jQuery("#wpProQuiz_user_content").hide();jQuery.ajax({type:"POST",url:ajaxurl,dataType:"json",cache:!1,data:o,error:function(t,e,a){},success:function(t){void 0!==t.html&&(d.html(t.html),jQuery("#wpProQuiz_user_content").show(),jQuery("#wpProQuiz_loadUserData").hide(),d.find(".statistic_data").click(function(){return jQuery(this).parents("tr").next().toggle("fast"),!1}))}}),jQuery("#wpProQuiz_overlay_close").click(function(){jQuery("#wpProQuiz_user_overlay").hide()})}function f(e){var a=0;e.find("> *").each(function(){a+=t(this).outerHeight()}),e.attr("data-height",""+(a+50)),e.css({"max-height":a+50})}var h=window.location.hash;if("#login"==h&&r(),void 0!==ldGetUrlVars().login){var _=ldGetUrlVars().login;"failed"==_&&r()}if(void 0!==ldGetUrlVars()["ld-topic-page"]){var v=ldGetUrlVars()["ld-topic-page"],m=v.split("-"),g=Object.values(m)[0],b=t("#ld-expand-"+g),x=t(b).find(".ld-expand-button");o(x),t("html, body").animate({scrollTop:t(b).offset().top},500)}t("body").on("click",'a[href="#login"]',function(t){t.preventDefault(),r()}),t("body").on("click",".ld-modal-closer",function(t){t.preventDefault(),c()}),t("body").on("click","#ld-comments-post-button",function(e){t(this).addClass("ld-open"),t("#ld-comments-form").removeClass("ld-collapsed"),t("textarea#comment").focus()}),t(document).keyup(function(t){27===t.keyCode&&c()}),t(".learndash-wrapper").on("click","a.user_statistic",p),e(),t("body").on("click",".ld-focus-sidebar-trigger",function(e){t(".ld-focus").hasClass("ld-focus-sidebar-collapsed")?s():a()}),t("body").on("click",".ld-mobile-nav a",function(e){e.preventDefault(),t(".ld-focus").hasClass("ld-focus-sidebar-collapsed")?s():a()}),t(".ld-js-register-account").click(function(e){e.preventDefault(),t(".ld-login-modal-register .ld-modal-text").slideUp("slow"),t(".ld-login-modal-register .ld-alert").slideUp("slow"),t(this).slideUp("slow",function(){t("#ld-user-register").slideDown("slow")})});var w=t(window).width();if(t(window).on("orientationchange",function(){w=t(window).width()}),t(window).on("resize",function(){t(this).width()!==w&&setTimeout(function(){e()},50)}),t(".ld-course-status-content").length){var C=0;t(".ld-course-status-content").each(function(){t(this).height()>C&&(C=t(this).height())}),t(".ld-course-status-content").height(C)}t(".ld-file-input").each(function(){var e=t(this),a=e.next("label"),s=a.html();e.on("change",function(e){var l="";this.files&&this.files.length>1?l=(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value&&(l=e.target.value.split("\\").pop()),l?(a.find("span").html(l),a.addClass("ld-file-selected"),t("#uploadfile_btn").attr("disabled",!1)):(a.html(s),a.removeClass("ld-file-selected"),t("#uploadfile_btn").attr("disabled",!0))}),e.on("focus",function(){e.addClass("has-focus")}).on("blur",function(){e.removeClass("has-focus")})}),t("body").on("click",".ld-expand-button",function(e){e.preventDefault(),o(t(this)),u()}),t("body").on("click",".ld-search-prompt",function(e){e.preventDefault(),t("#course_name_field").focus(),o(t(this))}),t("body").on("click",".ld-closer",function(e){o(t(".ld-search-prompt"),!0)}),t("body").on("click",".ld-tabs-navigation .ld-tab",function(){var e=t("#"+t(this).attr("data-ld-tab"));e.length&&(t(".ld-tabs-navigation .ld-tab.ld-active").removeClass("ld-active"),t(this).addClass("ld-active"),t(".ld-tabs-content .ld-tab-content.ld-visible").removeClass("ld-visible"),e.addClass("ld-visible")),u()});var y=t("*[data-ld-tooltip]");if(n(),t("body").on("click","#ld-profile .ld-reset-button",function(e){e.preventDefault();var a={shortcode_instance:t("#ld-profile").data("shortcode_instance")};t("#ld-profile #ld-main-course-list").addClass("ld-loading"),t.ajax({type:"GET",url:ajaxurl+"?action=ld30_ajax_profile_search",data:a,success:function(e){void 0!==e.data.markup&&t("#ld-profile").html(e.data.markup)}})}),t("body").on("submit",".ld-item-search-fields",function(e){e.preventDefault();var a={shortcode_instance:t("#ld-profile").data("shortcode_instance")};a["ld-profile-search"]=t(this).parents(".ld-item-search-wrapper").find("#course_name_field").val(),t("#ld-profile #ld-main-course-list").addClass("ld-loading"),t.ajax({type:"GET",url:ajaxurl+"?action=ld30_ajax_profile_search",data:a,success:function(e){void 0!==e.data.markup&&t("#ld-profile").html(e.data.markup)}})}),t("body").on("click",".ld-pagination a",function(e){e.preventDefault();var a={};t(this).attr("href").replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,e,s){a[e]=s}),a.pager_results=t(this).parents(".ld-pagination").data("pager-results"),a.context=t(this).data("context"),"profile"!=a.context&&(a.lesson_id=t(this).data("lesson_id"),a.course_id=t(this).data("course_id"),t(".ld-course-nav-"+a.course_id).length&&(a.widget_instance=t(".ld-course-nav-"+a.course_id).data("widget_instance"))),"course_topics"==a.context&&(t("#ld-topic-list-"+a.lesson_id).addClass("ld-loading"),t("#ld-nav-content-list-"+a.lesson_id).addClass("ld-loading")),"course_lessons"==a.context&&(t("#ld-item-list-"+a.course_id).addClass("ld-loading"),t("#ld-lesson-list-"+a.course_id).addClass("ld-loading")),"profile"==a.context&&(t("#ld-profile #ld-main-course-list").addClass("ld-loading"),a.shortcode_instance=t("#ld-profile").data("shortcode_instance")),"course_content_shortcode"==a.context&&(t(".ld-course-content-"+a.course_id).addClass("ld-loading"),a.shortcode_instance=t(".ld-course-content-"+a.course_id).data("shortcode_instance")),"course_info_courses"==a.context&&(t(".ld-user-status").addClass("ld-loading"),a.shortcode_instance=t(".ld-user-status").data("shortcode-atts"),console.log(a)),t.ajax({type:"GET",url:ajaxurl+"?action=ld30_ajax_pager",data:a,success:function(e){"course_topics"==a.context&&(t("#ld-topic-list-"+a.lesson_id).length&&(void 0!==e.data.topics&&t("#ld-topic-list-"+a.lesson_id).html(e.data.topics),void 0!==e.data.pager&&t("#ld-expand-"+a.lesson_id).find(".ld-table-list-footer").html(e.data.pager),f(t(".ld-lesson-item-"+a.lesson_id).find(".ld-item-list-item-expanded")),t("#ld-topic-list-"+a.lesson_id).removeClass("ld-loading")),t("#ld-nav-content-list-"+a.lesson_id).length&&(void 0!==e.data.nav_topics&&t("#ld-nav-content-list-"+a.lesson_id).find(".ld-table-list-items").html(e.data.topics),void 0!==e.data.pager&&t("#ld-nav-content-list-"+a.lesson_id).find(".ld-table-list-footer").html(e.data.pager),t("#ld-nav-content-list-"+a.lesson_id).removeClass("ld-loading"))),"course_lessons"==a.context&&(t("#ld-item-list-"+a.course_id).length&&void 0!==e.data.lessons&&t("#ld-item-list-"+a.course_id).html(e.data.lessons).removeClass("ld-loading"),t("#ld-lesson-list-"+a.course_id).length&&void 0!==e.data.nav_lessons&&t("#ld-lesson-list-"+a.course_id).html(e.data.nav_lessons).removeClass("ld-loading")),"profile"==a.context&&void 0!==e.data.markup&&t("#ld-profile").html(e.data.markup),"course_content_shortcode"==a.context&&void 0!==e.data.markup&&t("#learndash_post_"+a.course_id).replaceWith(e.data.markup),"course_info_courses"==a.context&&void 0!==e.data.markup&&t(".ld-user-status").replaceWith(e.data.markup),t("body").trigger("ld_has_paginated"),n()}})}),t("#learndash_timer").length){var k=jQuery("#learndash_timer"),j=k.attr("data-timer-seconds"),Q=jQuery(k.attr("data-button")),D=k.attr("data-cookie-key");if(void 0!==D)var z="learndash_timer_cookie_"+D;else z="learndash_timer_cookie";cookie_timer_seconds=jQuery.cookie(z),"undefined"!=typeof cookie_timer_seconds&&(j=parseInt(cookie_timer_seconds)),0==j&&t(k).hide(),t(Q).on("learndash-time-finished",function(){t(k).hide()})}t(document).on("learndash_video_disable_assets",function(e,a){if("undefined"==typeof learndash_video_data)return!1;"BEFORE"==learndash_video_data.videos_shown&&(1==a?(t(".ld-lesson-topic-list").hide(),t(".ld-lesson-navigation").find("#ld-nav-content-list-"+ldVars.postID).addClass("user_has_no_access"),t(".ld-quiz-list").hide()):(t(".ld-lesson-topic-list").slideDown(),t(".ld-quiz-list").slideDown(),t(".ld-lesson-navigation").find("#ld-nav-content-list-"+ldVars.postID).removeClass("user_has_no_access")))}),t(".learndash-wrapper").on("click",'.wpProQuiz_questionListItem input[type="radio"]',function(e){t(this).parents(".wpProQuiz_questionList").find("label").removeClass("is-selected"),t(this).parents("label").addClass("is-selected")})});