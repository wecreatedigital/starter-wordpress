function learndash_data_reports_do_ajax(a, t) { if (void 0 === a || "" == a) return active_post_data = {}, !1; jQuery.ajax({ type: "POST", url: ajaxurl, dataType: "json", cache: !1, data: a, error: function (a, t, r) { }, success: function (r) { if (void 0 !== r && void 0 !== r.data) { jQuery(".learndash-data-reports-status", t).length && (jQuery(".learndash-data-reports-status", t).show(), void 0 !== r.data.progress_percent && jQuery(".learndash-data-reports-status .progress-meter-image", t).css("width", r.data.progress_percent + "%"), void 0 !== r.data.progress_label && jQuery(".learndash-data-reports-status .progress-label", t).html(r.data.progress_label)); var e = 0; void 0 !== r.data.total_count && (e = parseInt(r.data.total_count)); var d = 0; void 0 !== r.data.result_count && (d = parseInt(r.data.result_count)), d < e ? (a.data = r.data, learndash_data_reports_do_ajax(a, t)) : (jQuery("table#learndash-data-reports button.learndash-data-reports-button").prop("disabled", !1), void 0 !== r.data.report_download_link && "" != r.data.report_download_link && (window.location.href = r.data.report_download_link)) } } }) } jQuery(document).ready(function () { jQuery("table#learndash-data-reports button").click(function (a) { a.preventDefault(); var t = jQuery(this).parents("tr"), r = jQuery(this).attr("data-nonce"), e = jQuery(this).attr("data-slug"); jQuery("table#learndash-data-reports .learndash-data-reports-status").hide(), jQuery("table#learndash-data-reports button.learndash-data-reports-button").prop("disabled", !0), jQuery("table#learndash-data-reports a.learndash-data-reports-download-link").hide(), learndash_data_reports_do_ajax({ action: "learndash-data-reports", data: { init: 1, nonce: r, slug: e } }, t) }) });