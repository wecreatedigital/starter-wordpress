void 0 === window.learndash && (window.learndash = {}), void 0 === window.learndash.admin && (window.learndash.admin = {}), window.learndash.admin.overview = { toggleAccordion: function (e) { if ("BUTTON" === e.target.tagName && e.target.classList.contains("ld-bootcamp__accordion--toggle") || "SPAN" === e.target.tagName && e.target.classList.contains("ld-bootcamp__accordion--toggle-indicator")) { e.preventDefault(); var t = e.target.closest(".ld-bootcamp__accordion--single"); if (!t) return; var a = t.querySelector(".ld-bootcamp__accordion--toggle"); if (!a) return; var o = "true" === a.getAttribute("aria-selected"), n = t.querySelector(".ld-bootcamp__accordion--content"); a.setAttribute("aria-selected", !o), a.setAttribute("aria-expanded", !o), n.setAttribute("aria-hidden", o), "true" === a.getAttribute("aria-selected") && this.maybeLoadVideos(t) } }, openFirstIncompleteAccordionPanel() { var e = document.querySelectorAll(".ld-bootcamp__accordion--single"), t = []; e.forEach(function (e) { if (e.classList.contains("-completed")) { var a = e.querySelector(".ld-bootcamp__mark-complete--toggle"); a && a.innerHTML !== LearnDashOverviewPageData.mark_incomplete && (a.innerHTML = LearnDashOverviewPageData.mark_incomplete) } else t.push(e) }); var a = t[0].querySelector(".ld-bootcamp__accordion--toggle"), o = t[0].querySelector(".ld-bootcamp__accordion--content"); a && o && (a.setAttribute("aria-selected", "true"), a.setAttribute("aria-expanded", "true"), o.setAttribute("aria-hidden", "false"), o.focus(), this.maybeLoadVideos(t[0])) }, maybeLoadVideos: function (e) { var t = e.querySelectorAll(".ld-bootcamp__embed iframe"); t && t.forEach(function (e) { e.dataset.src && e.setAttribute("src", e.dataset.src) }) }, toggleBootcamp: function (e) { if ("BUTTON" === e.target.tagName && e.target.classList.contains("ld-bootcamp--toggle")) { e.preventDefault(); var t = document.querySelector(".ld-bootcamp"), a = document.getElementById("ld-bootcamp--show"); t && a && ("ld-bootcamp--hide" === e.target.id && (t.style.display = "none", a.style.display = "block"), "ld-bootcamp--show" === e.target.id && (t.style.display = "block", a.style.display = "none"), this.saveToggleBootcampState(e, t), scroll(0, 0)) } }, saveToggleBootcampState: function (e, t) { if (t) { var a = "none" === t.style.display ? "hide" : "show", o = new XMLHttpRequest; o.open("POST", window.ajaxurl, !0), o.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8"), o.onerror = function () { console.log("Ajax request failed.") }, o.send("action=save_bootcamp_toggle_state&nonce=" + e.target.dataset.nonce + "&state=" + a) } }, markComplete: function (e) { if ("BUTTON" === e.target.tagName && (e.target.classList.contains("ld-bootcamp__mark-complete--toggle") || e.target.classList.contains("ld-bootcamp__mark-complete--toggle-indicator"))) { e.preventDefault(); var t = e.target.closest(".ld-bootcamp__accordion--single"); t && (t.classList.contains("-completed") ? t.classList.remove("-completed") : t.classList.add("-completed")), markCompleteButton = t.querySelector(".ld-bootcamp__mark-complete--toggle"), LearnDashOverviewPageData.mark_complete === markCompleteButton.innerHTML ? markCompleteButton.innerHTML = LearnDashOverviewPageData.mark_incomplete : markCompleteButton.innerHTML = LearnDashOverviewPageData.mark_complete, this.saveMarkCompleteState(e.target, t.classList.contains("-completed")), t.classList.contains("-completed") && (this.collapseAccordion(e), this.openFirstIncompleteAccordionPanel()) } }, saveMarkCompleteState: function (e, t) { var a = new XMLHttpRequest; a.open("POST", window.ajaxurl, !0), a.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8"), a.onerror = function () { console.log("Ajax request failed.") }, a.send("action=save_bootcamp_mark_complete_state&nonce=" + e.dataset.nonce + "&id=" + e.dataset.id + "&state=" + t) }, collapseAccordion: function (e) { var t = e.target.closest(".ld-bootcamp__accordion--single"); if (t) { var a = t.querySelector(".ld-bootcamp__accordion--toggle"); if (a && "false" !== a.getAttribute("aria-selected")) { var o = t.querySelector(".ld-bootcamp__accordion--content"); a.setAttribute("aria-selected", "false"), a.setAttribute("aria-expanded", "false"), o.setAttribute("aria-hidden", "true") } } }, maybeDisplayShowBootcampButton: function () { var e = document.getElementById("ld-bootcamp--show"), t = document.querySelector(".ld-bootcamp"); e && t && ("block" === t.style.display ? e.style.display = "none" : e.style.display = "block") }, searchSupportSite: function (e) { if ("FORM" === e.target.tagName && "ld-overview--search-documentation-form" === e.target.id) { e.preventDefault(); var t = document.getElementById("ld-overview--search-term"); t && t.value.length > 3 && window.open("https://www.learndash.com/support/docs/?s=" + t.value, "_blank") } }, eventListeners: function () { document.querySelector(".ld-bootcamp").addEventListener("click", learndash.admin.overview.toggleAccordion.bind(learndash.admin.overview)), document.querySelector("body").addEventListener("click", learndash.admin.overview.toggleBootcamp.bind(learndash.admin.overview)), document.querySelector("body").addEventListener("click", learndash.admin.overview.markComplete.bind(learndash.admin.overview)), document.querySelector("body").addEventListener("submit", learndash.admin.overview.searchSupportSite.bind(learndash.admin.overview)) } }, document.addEventListener("DOMContentLoaded", learndash.admin.overview.eventListeners), document.addEventListener("DOMContentLoaded", learndash.admin.overview.openFirstIncompleteAccordionPanel.bind(learndash.admin.overview)), document.addEventListener("DOMContentLoaded", learndash.admin.overview.maybeDisplayShowBootcampButton.bind(learndash.admin.overview));